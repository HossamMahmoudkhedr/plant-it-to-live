{"version":3,"file":"use-safe-callback.esm.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react';\n\nconst useSSRLayoutEffect =\n  typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n\nexport function useIsMounted() {\n  const isMounted = React.useRef(false);\n  useSSRLayoutEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n}\n\nexport default function useSafeCallback<\n  Arguments extends Array<any> = any[],\n  ReturnValue = any\n>(callback: (...args: Arguments) => ReturnValue) {\n  const isMounted = useIsMounted();\n  return React.useCallback(\n    (...args: Arguments) => (isMounted.current ? callback(...args) : void 0),\n    [callback]\n  );\n}\n"],"names":["useSSRLayoutEffect","window","React","useIsMounted","isMounted","current","useSafeCallback","callback"],"mappings":";;AAEA,IAAMA,kBAAkB,GACtB,OAAOC,MAAP,KAAkB,WAAlB,GAAgCC,SAAhC,GAAkDA,eADpD;SAGgBC;AACd,MAAMC,SAAS,GAAGF,MAAA,CAAa,KAAb,CAAlB;AACAF,EAAAA,kBAAkB,CAAC;AACjBI,IAAAA,SAAS,CAACC,OAAV,GAAoB,IAApB;AACA,WAAO;AACLD,MAAAA,SAAS,CAACC,OAAV,GAAoB,KAApB;AACD,KAFD;AAGD,GALiB,EAKf,EALe,CAAlB;AAMA,SAAOD,SAAP;AACD;SAEuBE,gBAGtBC;AACA,MAAMH,SAAS,GAAGD,YAAY,EAA9B;AACA,SAAOD,WAAA,CACL;AAAA,WAAyBE,SAAS,CAACC,OAAV,GAAoBE,QAAQ,MAAR,mBAApB,GAAwC,KAAK,CAAtE;AAAA,GADK,EAEL,CAACA,QAAD,CAFK,CAAP;AAID;;;;;"}